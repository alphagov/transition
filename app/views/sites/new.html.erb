<% breadcrumb(:new_site, @organisation) %>

<div class="page-title-with-border">
  <h1>New transition site</h1>
</div>

<%= form_for @site_form, html: { role: "form" }, url: organisation_sites_path do |form| %>
  <%= render "shared/error_messages", error_messages: form.object.errors.full_messages %>

  <div class="form-group row">
    <div class="col-md-8">
      <%= form.hidden_field :organisation_slug, value: @organisation.whitehall_slug %>

      <div class="form-group">
        <%= form.label :abbr %>
        <%= form.text_field :abbr, class: "form-control" %>
      </div>

      <div class="form-group">
        <%= form.label :tna_timestamp %>
        <%= form.text_field :tna_timestamp, class: "form-control" %>
      </div>

      <div class="form-group">
        <%= form.label :homepage %>
        <%= form.text_field :homepage, class: "form-control" %>
      </div>

      <div class="form-group">
        <%= form.label :hostname %>
        <%= form.text_field :hostname, class: "form-control" %>
      </div>

      <div class="form-group">
        <%= form.label :homepage_title %>
        <%= form.text_field :homepage_title, class: "form-control" %>
      </div>

      <div class="form-group">
        <%= form.label :extra_organisations %>
        <%= form.collection_select :extra_organisations,
                                   form.object.organisations,
                                   :id,
                                   :title,
                                   {},
                                   { multiple: true, class: "form-control" }
        %>
      </div>

      <div class="form-group">
        <%= form.label :homepage_furl %>
        <%= form.text_field :homepage_furl, class: "form-control" %>
      </div>

      <div class="form-group">
        <%= form.label :global_type %>
        <%= form.collection_radio_buttons :global_type,
                                          Site::GLOBAL_TYPES,
                                          :to_s,
                                          :humanize do |button| %>
          <div class="radio">
            <%= button.label do %>
              <%= button.radio_button + button.text %>
            <% end %>
          </div>
        <% end %>
      </div>

      <div class="form-group">
        <%= form.label :global_new_url %>
        <%= form.text_field :global_new_url, class: "form-control" %>
      </div>

      <div class="form-group">
        <%= form.label :query_params %>
        <%= form.text_field :query_params, class: "form-control" %>
      </div>

      <div class="form-group">
        <%= form.label :global_redirect_append_path %>
        <%= form.check_box :global_redirect_append_path %>
      </div>

      <div class="form-group">
        <%= form.label :special_redirect_strategy %>
        <%= form.collection_radio_buttons :special_redirect_strategy,
                                          Site::SPECIAL_REDIRECT_STRATEGY_TYPES,
                                          :to_s,
                                          :humanize do |button| %>
          <div class="radio">
            <%= button.label do %>
              <%= button.radio_button + button.text %>
            <% end %>
          </div>
        <% end %>
      </div>

      <div class="form-group">
        <%= form.label :aliases %>
        <%= form.text_area :aliases, class: "form-control" %>
      </div>

      <%= form.submit 'Save', class: 'add-top-margin btn btn-success' %>
    </div>
  </div>
<% end %>
